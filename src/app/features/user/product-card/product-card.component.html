<div class="flex-grow group bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-xl hover:border-purple-100 transition-all duration-300 transform hover:-translate-y-1 flex flex-col">
  <!-- Image -->
  <div class="relative h-52 bg-gray-50 p-6 flex items-center justify-center overflow-hidden">
    <img [src]="product().image" [alt]="product().title"
      class="max-h-full max-w-full object-contain transition-transform duration-500 group-hover:scale-110" />
    <!-- Category Badge -->
    <span class="absolute top-3 left-3 px-2.5 py-1 rounded-lg bg-white/90 backdrop-blur-sm text-xs font-medium text-purple-600 capitalize shadow-sm">
      {{ ("categories." + product().category) | translate }}
    </span>
  </div>

  <!-- Content -->
  <div class="p-5 flex flex-col flex-1">
    <h3 class="text-sm font-semibold text-gray-900 line-clamp-2 mb-2 leading-snug">
      {{ product().title }}
    </h3>

    <!-- Rating -->
    <div class="flex items-center gap-1.5 mb-3">
      <div class="flex items-center">
        @for (star of getStars(product().rating.rate); track $index) {
        <span class="icon-star" [class]="star ? 'text-purple-400' : 'text-gray-200'"></span>

        }
      </div>
      <span class="text-xs text-gray-400">({{ product().rating.count }})</span>
    </div>

    <!-- Price & Action -->
    <div class="flex items-center justify-between mt-auto pt-3 border-t border-gray-50">
      <span class="text-lg font-bold text-purple-600">${{ product().price.toFixed(2) }}</span>
      <div class="flex items-center gap-1.5">
        <a [routerLink]="['/user/product', product().id]"
          class="px-3 py-2 rounded-lg bg-purple-50 hover:bg-purple-100 text-purple-600 text-xs font-semibold transition-all duration-200 hover:shadow-sm"
          [title]="'user.view_details' | translate">
           {{ 'user.view_details' | translate }}
        </a>
        <button (click)="addToCart($event)"
          class="px-3 py-2 rounded-lg bg-purple-600 hover:bg-purple-700 text-white text-xs font-semibold transition-all duration-200 shadow-sm shadow-purple-200 hover:shadow-purple-300"
          [title]="'cart.add_to_cart' | translate">
          <span class="icon-plus text-[0.5rem] relative -top-0.5"></span>
          <span class="icon-shopping-cart"></span>
        </button>
      </div>
    </div>
  </div>
</div>


